const PATCH_VERSION="14.4.1",CHAMPION_URL="https://ddragon.leagueoflegends.com/cdn/14.4.1/data/es_AR/champion",SPLASH_URL="https://ddragon.leagueoflegends.com/cdn/img/champion/loading/",PASSIVE_URL="https://ddragon.leagueoflegends.com/cdn/14.4.1/img/passive/",ABILITY_URL="https://ddragon.leagueoflegends.com/cdn/14.4.1/img/spell/",CHAMPIONS_PER_PAGE=12,CHAMPION_IDS=["Aatrox","Ahri","Akali","Akshan","Alistar","Amumu","Anivia","Annie","Aphelios","Ashe","AurelionSol","Azir","Bard","Belveth","Blitzcrank","Brand","Braum","Briar","Caitlyn","Camille","Cassiopeia","Chogath","Corki","Darius","Diana","DrMundo","Draven","Ekko","Elise","Evelynn","Ezreal","Fiddlesticks","Fiora","Fizz","Galio","Gangplank","Garen","Gnar","Gragas","Graves","Gwen","Hecarim","Heimerdinger","Hwei","Illaoi","Irelia","Ivern","Janna","JarvanIV","Jax","Jayce","Jhin","Jinx","KSante","Kaisa","Kalista","Karma","Karthus","Kassadin","Katarina","Kayle","Kayn","Kennen","Khazix","Kindred","Kled","KogMaw","Leblanc","LeeSin","Leona","Lillia","Lissandra","Lucian","Lulu","Lux","Malphite","Malzahar","Maokai","MasterYi","Milio","MissFortune","MonkeyKing","Mordekaiser","Morgana","Naafiri","Nami","Nasus","Nautilus","Neeko","Nidalee","Nilah","Nocturne","Nunu","Olaf","Orianna","Ornn","Pantheon","Poppy","Pyke","Qiyana","Quinn","Rakan","Rammus","RekSai","Rell","Renata","Renekton","Rengar","Riven","Rumble","Ryze","Samira","Sejuani","Senna","Seraphine","Sett","Shaco","Shen","Shyvana","Singed","Sion","Sivir","Skarner","Smolder","Sona","Soraka","Swain","Sylas","Syndra","TahmKench","Taliyah","Talon","Taric","Teemo","Thresh","Tristana","Trundle","Tryndamere","TwistedFate","Twitch","Udyr","Urgot","Varus","Vayne","Veigar","Velkoz","Vex","Vi","Viego","Viktor","Vladimir","Volibear","Warwick","Xayah","Xerath","XinZhao","Yasuo","Yone","Yorick","Yuumi","Zac","Zed","Zeri","Ziggs","Zilean","Zoe","Zyra"];let allChampions=[],allAssassins=[],allFighters=[],allMages=[],allMarksmans=[],allSupports=[],allTanks=[],indiceActual=0;async function fetchAndDisplayChampions(){if(0===allChampions.length){const e=localStorage.getItem("championsData");let a;if(e){const a=JSON.parse(e);allChampions.push(...a)}else a=CHAMPION_IDS.map((e=>fetch(`${CHAMPION_URL}/${e}.json`).then((e=>e.json())).then((a=>a.data[e])))),console.log(a);try{if(a){const e=await Promise.all(a);allChampions.push(...e),localStorage.setItem("championsData",JSON.stringify(allChampions))}allAssassins=allChampions.filter((e=>"Assassin"==e.tags[0])),allFighters=allChampions.filter((e=>"Fighter"==e.tags[0])),allMages=allChampions.filter((e=>"Mage"==e.tags[0])),allMarksmans=allChampions.filter((e=>"Marksman"==e.tags[0])),allSupports=allChampions.filter((e=>"Support"==e.tags[0])),allTanks=allChampions.filter((e=>"Tank"==e.tags[0]));for(let e=0;e<12;e++)displayChampion(allChampions[indiceActual+e]);indiceActual+=12}catch(e){console.error("Failed to fetch champions: ",e)}}}const championsGrid=document.getElementById("championsGrid");function displayChampion(e){const a=e.tags[0].toLowerCase(),n="fighter"===a?"Luchador":"tank"===a?"Tanque":"mage"===a?"Mago":"assassin"===a?"Asesino":"support"===a?"Soporte":"marksman"===a?"Tirador":"Desconocido",t=e.info.difficulty<=3?["opacity-25","opacity-25"]:e.info.difficulty<=6?["","opacity-25"]:["",""],i=e.passive.image.full,l=e.spells[0].image.full,o=e.spells[1].image.full,r=e.spells[2].image.full,s=e.spells[3].image.full,c=[`${SPLASH_URL}${e.id}_0.jpg`,`${PASSIVE_URL}${i}`,`${ABILITY_URL}${l}`,`${ABILITY_URL}${o}`,`${ABILITY_URL}${r}`,`${ABILITY_URL}${s}`],d="https://res.cloudinary.com",f="dak46kbmg",h="w_40,h_40,c_auto,f_webp",p=[`${d}/${f}/image/fetch/w_240,h_436,c_auto,f_webp/${c[0]}`,`${d}/${f}/image/fetch/${h}/${c[1]}`,`${d}/${f}/image/fetch/${h}/${c[2]}`,`${d}/${f}/image/fetch/${h}/${c[3]}`,`${d}/${f}/image/fetch/${h}/${c[4]}`,`${d}/${f}/image/fetch/${h}/${c[5]}`],u=document.createElement("div");u.classList.add("w-[272px]","bg-custom-blue-1","text-white","text-center","relative","pb-2","transition-all","group","duration-200","animate-fade","mx-auto","before:absolute","before:w-[28px]","before:h-[28px]","before:bg-white","before:-top-[14px]","before:-right-[14px]","before:rotate-[45deg]","before:hover:translate-x-3","before:hover:-translate-y-3","before:transition-all","before:duration-500"),u.innerHTML=`\n    <div class="relative m-auto mb-1 mt-4 w-60">\n      <div class="relative overflow-hidden">\n        <img\n          src="./img/loading.svg"\n          width="40"\n          height="40"\n          class="absolute left-[100px] top-[198px] animate-spin"\n          alt="Loading svg"\n        />\n        <img\n          src="${p[0]}"\n          width="240"\n          height="436"\n          class="-z-10 scale-105 transition-all duration-300 group-hover:scale-[115%]"\n          alt="${e.name} splash art"\n          fetchpriority="high"\n        />\n      </div>\n      <div class="absolute bottom-0 z-10 h-20 w-60 bg-black bg-opacity-50"></div>\n      <div class="text-custom-gold-1">\n        <h2\n          class="absolute bottom-10 z-20 w-60 font-custom-title text-2xl font-semibold uppercase italic"\n        >\n          ${e.name}\n        </h2>\n        <p\n          class="absolute bottom-3 z-20 w-60 font-custom-title text-xs uppercase italic"\n        >\n          ${e.title}\n        </p>\n      </div>\n    </div>\n    <div class="px-5 pb-2 text-xs uppercase tracking-wider">\n      <div class="flex justify-between px-1 pb-3 pt-4 font-custom-title">\n        <div\n          class="group relative transition-all duration-300 before:absolute before:left-0 before:h-full before:w-full before:leading-[36px] before:opacity-15 before:transition-all before:duration-300 before:content-['P'] after:absolute after:left-0 after:top-0 after:h-[36px] after:w-[36px] after:scale-[112%] after:border-[1px] after:border-white hover:-translate-y-1 before:hover:opacity-100"\n        >\n          <img\n            src="${p[1]}"\n            loading="lazy"\n            width="40"\n            height="40"\n            alt="${e.name} passive"\n            class="w-9"\n            fetchpriority="low"\n          />\n        </div>\n        <div\n          class="group relative transition-all duration-300 before:absolute before:left-0 before:h-full before:w-full before:leading-[36px] before:opacity-15 before:transition-all before:duration-300 before:content-['Q'] after:absolute after:left-0 after:top-0 after:h-[36px] after:w-[36px] after:scale-[112%] after:border-[1px] after:border-white hover:-translate-y-1 before:hover:opacity-100"\n        >\n          <img\n            src="${p[2]}"\n            loading="lazy"\n            width="40"\n            height="40"\n            alt="${e.name} Q"\n            class="w-9"\n            fetchpriority="low"\n          />\n        </div>\n        <div\n          class="group relative transition-all duration-300 before:absolute before:left-0 before:h-full before:w-full before:leading-[36px] before:opacity-15 before:transition-all before:duration-300 before:content-['W'] after:absolute after:left-0 after:top-0 after:h-[36px] after:w-[36px] after:scale-[112%] after:border-[1px] after:border-white hover:-translate-y-1 before:hover:opacity-100"\n        >\n          <img\n            src="${p[3]}"\n            loading="lazy"\n            width="40"\n            height="40"\n            alt="${e.name} W"\n            class="w-9"\n            fetchpriority="low"\n          />\n        </div>\n        <div\n          class="group relative transition-all duration-300 before:absolute before:left-0 before:h-full before:w-full before:leading-[36px] before:opacity-15 before:transition-all before:duration-300 before:content-['E'] after:absolute after:left-0 after:top-0 after:h-[36px] after:w-[36px] after:scale-[112%] after:border-[1px] after:border-white hover:-translate-y-1 before:hover:opacity-100"\n        >\n          <img\n            src="${p[4]}"\n            loading="lazy"\n            width="40"\n            height="40"\n            alt="${e.name} E"\n            class="w-9"\n            fetchpriority="low"\n          />\n        </div>\n        <div\n          class="group relative transition-all duration-300 before:absolute before:left-0 before:h-full before:w-full before:leading-[36px] before:opacity-15 before:transition-all before:duration-300 before:content-['R'] after:absolute after:left-0 after:top-0 after:h-[36px] after:w-[36px] after:scale-[112%] after:border-[1px] after:border-white hover:-translate-y-1 before:hover:opacity-100"\n        >\n          <img\n            src="${p[5]}"\n            loading="lazy"\n            width="40"\n            height="40"\n            alt="${e.name} R"\n            class="w-9"\n            fetchpriority="low"\n          />\n        </div>\n      </div>\n      <p>Habilidades</p>\n    </div>\n    <div class="flex justify-between gap-4 p-2 text-xs uppercase tracking-wider">\n      <div class="w-1/2">\n        <img\n          src="./img/${a}.webp"\n          alt="${n} icon"\n          width="32"\n          height="32"\n          class="mx-auto mb-1 w-8"\n        />\n        <p>${n}</p>\n      </div>\n      <div class="w-1/2">\n        <div class="mx-auto mb-1 flex h-8 w-16 gap-1">\n          <div class="my-auto h-3 w-5 -skew-x-[40deg] bg-custom-blue-2"></div>\n          <div\n            class="${t[0]} my-auto h-3 w-5 -skew-x-[40deg] bg-custom-blue-2"\n          ></div>\n          <div\n            class="${t[1]} my-auto h-3 w-5 -skew-x-[40deg] bg-custom-blue-2"\n          ></div>\n        </div>\n        <p>Dificultad</p>\n      </div>\n    </div>\n    `,championsGrid.appendChild(u)}let championsParaCargar=allChampions;const roleButtons=document.querySelectorAll(".role-btn");roleButtons.forEach((e=>e.addEventListener("click",(()=>{championsGrid.innerHTML="",document.getElementById("loadMore").classList.remove("hidden"),indiceActual=0;const a=e.id;championsParaCargar="assassin"===a?allAssassins:"fighter"===a?allFighters:"mage"===a?allMages:"marksman"===a?allMarksmans:"support"===a?allSupports:"tank"===a?allTanks:allChampions;for(let e=0;e<12;e++)displayChampion(championsParaCargar[indiceActual+e]);indiceActual+=12,roleButtons.forEach((e=>e.classList.remove("role-active"))),e.classList.add("role-active")})))),fetchAndDisplayChampions(),document.getElementById("loadMore").addEventListener("click",(()=>{for(let e=0;indiceActual+e<championsParaCargar.length&&e<12;e++)displayChampion(championsParaCargar[indiceActual+e]);indiceActual+=12,indiceActual>=championsParaCargar.length&&document.getElementById("loadMore").classList.add("hidden")}));